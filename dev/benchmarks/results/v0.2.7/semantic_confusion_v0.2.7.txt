BM25 not available (pip install rank-bm25 nltk)
Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given

================================================================================
SEMANTIC CONFUSION STRESS TEST - 15:1 Noise Ratio
================================================================================

Challenge: Find the REAL Sarah among 47 similar-looking impostors

[SETUP] Storing 3 ground truth facts about Sarah Chen (HIGH QUALITY)...
  [OK] Truth 1/3 (quality=0.93): Sarah Chen is 34 years old and works as a software engineer ...
  [OK] Truth 2/3 (quality=0.93): Sarah Chen's email is sarah.chen@techcorp.com and she lives ...
  [OK] Truth 3/3 (quality=0.93): Sarah Chen graduated from Stanford with a CS degree and has ...

[SETUP] Storing 47 confusing noise facts (LOW QUALITY)...
  [OK] 10/47 noise facts stored (quality=0.08)...
  [OK] 20/47 noise facts stored (quality=0.08)...
  [OK] 30/47 noise facts stored (quality=0.08)...
  [OK] 40/47 noise facts stored (quality=0.08)...

[VERIFY] Total stored: 3 truth + 47 noise = 50 docs
[VERIFY] Noise ratio: 15.7:1
[VERIFY] Quality gap: Truth=0.93 vs Noise=0.08 (12x higher)
[DEBUG] Truth IDs: ['memory_bank_2ba500cd', 'memory_bank_f7879de7', 'memory_bank_c22181c2']
[DEBUG] First 5 Noise IDs: ['memory_bank_81a6e7fa', 'memory_bank_14abb91d', 'memory_bank_3e65fc4b', 'memory_bank_98f3c366', 'memory_bank_4aae6039']

--------------------------------------------------------------------------------
RUNNING TEST QUERIES
--------------------------------------------------------------------------------

[EASY] Query: "Sarah Chen TechCorp engineer"
         Direct query - should be easy
         Results: 1/3 truth in top 5 (4 noise)
           1. [noise] q=0.93 rank=0.803 | FULL: Sarah Chen is 34 years old and works as a software engineer at TechCorp.
               ID: memory_bank_61c1ba2b_1764202920.891881
           2. [TRUTH] q=0.93 rank=0.785 | Sarah Chen is 34 years old and works as a software engineer at TechCor...
           3. [noise] q=0.07 rank=0.277 | Sarah Chen, 34, engineer at TechCorp Inc (the consulting firm)....
           4. [noise] q=0.07 rank=0.277 | Sarah Chen, 34, engineer at TechCorp Inc (the consulting firm)....
           5. [noise] q=0.07 rank=0.193 | Sarah Chen is a product manager at TechCorp....

[MEDIUM] Query: "What does Sarah Chen do for work?"
         Natural language - medium difficulty
         Results: 1/3 truth in top 5 (4 noise)
           1. [noise] q=0.93 rank=0.708 | FULL: Sarah Chen is 34 years old and works as a software engineer at TechCorp.
               ID: memory_bank_61c1ba2b_1764202920.891881
           2. [TRUTH] q=0.93 rank=0.689 | Sarah Chen is 34 years old and works as a software engineer at TechCor...
           3. [noise] q=0.07 rank=0.128 | Sarah Chen is 28 years old and just started her career....
           4. [noise] q=0.07 rank=0.128 | Sarah Chen is 28 years old and just started her career....
           5. [noise] q=0.07 rank=0.127 | Is Sarah Chen the one who works at TechCorp?...

[HARD] Query: "Sarah age job company"
         Sparse keywords - harder
         Results: 1/3 truth in top 5 (4 noise)
           1. [TRUTH] q=0.93 rank=0.669 | Sarah Chen is 34 years old and works as a software engineer at TechCor...
           2. [noise] q=0.93 rank=0.669 | FULL: Sarah Chen is 34 years old and works as a software engineer at TechCorp.
               ID: memory_bank_61c1ba2b_1764202920.891881
           3. [noise] q=0.07 rank=0.117 | Sarah C. is 34, works in tech somewhere in California....
           4. [noise] q=0.07 rank=0.117 | Sarah C. is 34, works in tech somewhere in California....
           5. [noise] q=0.07 rank=0.105 | Sarah Chen at TechCorp is 28 years old....

[BRUTAL] Query: "the user Sarah"
         Vague reference - very hard
         Results: 1/3 truth in top 5 (4 noise)
           1. [TRUTH] q=0.93 rank=0.659 | Sarah Chen's email is sarah.chen@techcorp.com and she lives in San Fra...
           2. [noise] q=0.93 rank=0.659 | FULL: Sarah Chen's email is sarah.chen@techcorp.com and she lives in San Francisco.
               ID: memory_bank_4c4de62a_1764202920.968253
           3. [noise] q=0.07 rank=0.117 | Sarah is a common name in tech companies....
           4. [noise] q=0.07 rank=0.117 | Sarah is a common name in tech companies....
           5. [noise] q=0.07 rank=0.104 | User asked about Sarah Chen's background....

[NIGHTMARE] Query: "software engineer 34 years old"
         No name! Must infer from quality
         Results: 1/3 truth in top 5 (4 noise)
           1. [noise] q=0.93 rank=0.751 | FULL: Sarah Chen is 34 years old and works as a software engineer at TechCorp.
               ID: memory_bank_61c1ba2b_1764202920.891881
           2. [TRUTH] q=0.93 rank=0.716 | Sarah Chen is 34 years old and works as a software engineer at TechCor...
           3. [noise] q=0.07 rank=0.183 | A software engineer in their 30s works at TechCorp....
           4. [noise] q=0.07 rank=0.183 | A software engineer in their 30s works at TechCorp....
           5. [noise] q=0.07 rank=0.120 | Michael Chen is 34 and works at TechCorp as an engineer....

================================================================================
FINAL RESULTS
================================================================================
Total truth docs found: 5/15 (33.3%)
Truth ranked #1: 2/5 queries (40.0%)
Noise ratio survived: 16:1

[MECHANISM] 3-stage quality enforcement:
  1. Distance boost: adjusted_distance = L2_distance * (1.0 - quality * 0.8)
  2. L2->Similarity: similarity = 1 / (1 + distance)
  3. CE multiplier: final_score = blended_score * (1 + quality)

================================================================================
FAIL - Truth ranked #1 in only 2/5 queries (need >= 3)
       Quality boost not strong enough for 16:1 noise
================================================================================
