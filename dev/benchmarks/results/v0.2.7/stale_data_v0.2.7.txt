BM25 not available (pip install rank-bm25 nltk)
Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given

================================================================================
STALE DATA TEST - Fresh vs Outdated Information
================================================================================

[PHASE 1] Storing OLD facts (outdated, lower quality)...
  [OLD] 1/5 (q=0.20): User lives in New York City and works at a startup...
  [OLD] 2/5 (q=0.20): User's phone number is 555-0100....
  [OLD] 3/5 (q=0.20): User prefers Python 2.7 for all projects....
  [OLD] 4/5 (q=0.20): User is single and not looking to date....
  [OLD] 5/5 (q=0.20): User's favorite restaurant is Joe's Pizza in NYC....

[PHASE 2] Storing NEW facts (current, higher quality)...
  [NEW] 1/5 (q=0.90): User recently moved to San Francisco for a new job...
  [NEW] 2/5 (q=0.90): User's new phone number is 555-9999....
  [NEW] 3/5 (q=0.90): User now exclusively uses Python 3.11+ with type h...
  [NEW] 4/5 (q=0.90): User got married last year and has a newborn....
  [NEW] 5/5 (q=0.90): User's new favorite restaurant is Tartine Bakery i...

[VERIFY] Stored 5 old + 5 new = 10 total
[VERIFY] Quality gap: NEW=0.90 vs OLD=0.20 (4.5x higher)

--------------------------------------------------------------------------------
RUNNING CONFLICT QUERIES
--------------------------------------------------------------------------------

[QUERY] Where does the user live?
        OLD answer: New York City
        NEW answer: San Francisco
        RESULT: [NEW (correct)] q=0.90 | User recently moved to San Francisco for a new job at a tech...
          1. [NEW] q=0.90 | User recently moved to San Francisco for...
          2. [???] q=0.90 | User recently moved to San Francisco for...
          3. [???] q=0.90 | User got married last year and has a new...

[QUERY] What is the user's phone number?
        OLD answer: 555-0100
        NEW answer: 555-9999
        RESULT: [NEW (correct)] q=0.90 | User's new phone number is 555-9999....
          1. [NEW] q=0.90 | User's new phone number is 555-9999....
          2. [???] q=0.90 | User's new phone number is 555-9999....
          3. [???] q=0.90 | User got married last year and has a new...

[QUERY] What Python version does the user prefer?
        OLD answer: Python 2.7
        NEW answer: Python 3.11+
        RESULT: [UNKNOWN] q=0.90 | User now exclusively uses Python 3.11+ with type hints....
          1. [???] q=0.90 | User now exclusively uses Python 3.11+ w...
          2. [NEW] q=0.90 | User now exclusively uses Python 3.11+ w...
          3. [???] q=0.90 | User's new phone number is 555-9999....

[QUERY] Is the user married?
        OLD answer: single
        NEW answer: married
        RESULT: [UNKNOWN] q=0.90 | User got married last year and has a newborn....
          1. [???] q=0.90 | User got married last year and has a new...
          2. [NEW] q=0.90 | User got married last year and has a new...
          3. [NEW] q=0.90 | User recently moved to San Francisco for...

[QUERY] What's the user's favorite restaurant?
        OLD answer: Joe's Pizza
        NEW answer: Tartine Bakery
        RESULT: [UNKNOWN] q=0.90 | User's new favorite restaurant is Tartine Bakery in SF....
          1. [???] q=0.90 | User's new favorite restaurant is Tartin...
          2. [NEW] q=0.90 | User's new favorite restaurant is Tartin...
          3. [NEW] q=0.90 | User recently moved to San Francisco for...

================================================================================
FINAL RESULTS
================================================================================
NEW (fresh) data ranked #1: 2/5 queries (40.0%)
Quality gap: NEW=0.90 vs OLD=0.20 (4.5x higher)

[MECHANISM] Quality-based ranking should prioritize recent, high-confidence data

================================================================================
FAIL - Stale data dominating even when quality is much higher
       Quality ranking needs strengthening
================================================================================
