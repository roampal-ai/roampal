============================= test session starts =============================
platform win32 -- Python 3.10.11, pytest-9.0.0, pluggy-1.6.0 -- C:\ROAMPAL\ui-implementation\src-tauri\binaries\python\python.exe
cachedir: .pytest_cache
rootdir: C:\ROAMPAL\ui-implementation\src-tauri\backend
plugins: anyio-4.11.0, langsmith-0.4.36, asyncio-1.3.0
asyncio: mode=strict, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 237 items

tests/unit/test_context_service.py::TestContextServiceInit::test_init_with_defaults PASSED [  0%]
tests/unit/test_context_service.py::TestContextServiceInit::test_init_with_services PASSED [  0%]
tests/unit/test_context_service.py::TestConceptExtraction::test_basic_extraction PASSED [  1%]
tests/unit/test_context_service.py::TestConceptExtraction::test_filters_stopwords PASSED [  1%]
tests/unit/test_context_service.py::TestConceptExtraction::test_filters_short_words PASSED [  2%]
tests/unit/test_context_service.py::TestConceptExtraction::test_empty_text PASSED [  2%]
tests/unit/test_context_service.py::TestConceptExtraction::test_uses_kg_service_if_available PASSED [  2%]
tests/unit/test_context_service.py::TestPatternRecognition::test_finds_relevant_patterns PASSED [  3%]
tests/unit/test_context_service.py::TestPatternRecognition::test_filters_low_score_patterns PASSED [  3%]
tests/unit/test_context_service.py::TestPatternRecognition::test_no_kg_service PASSED [  4%]
tests/unit/test_context_service.py::TestFailureAwareness::test_detects_failure_patterns PASSED [  4%]
tests/unit/test_context_service.py::TestFailureAwareness::test_no_matching_failures PASSED [  5%]
tests/unit/test_context_service.py::TestTopicContinuity::test_detects_continuation PASSED [  5%]
tests/unit/test_context_service.py::TestTopicContinuity::test_detects_topic_shift PASSED [  5%]
tests/unit/test_context_service.py::TestTopicContinuity::test_empty_conversation PASSED [  6%]
tests/unit/test_context_service.py::TestProactiveInsights::test_generates_insights_for_high_success PASSED [  6%]
tests/unit/test_context_service.py::TestProactiveInsights::test_no_insights_below_threshold PASSED [  7%]
tests/unit/test_context_service.py::TestRepetitionDetection::test_detects_repetition PASSED [  7%]
tests/unit/test_context_service.py::TestRepetitionDetection::test_ignores_different_conversation PASSED [  8%]
tests/unit/test_context_service.py::TestAnalyzeConversationContext::test_returns_context_structure PASSED [  8%]
tests/unit/test_context_service.py::TestFindKnownSolutions::test_finds_exact_match PASSED [  8%]
tests/unit/test_context_service.py::TestFindKnownSolutions::test_boosts_known_solutions PASSED [  9%]
tests/unit/test_context_service.py::TestContextSummary::test_summary_with_patterns PASSED [  9%]
tests/unit/test_context_service.py::TestContextSummary::test_summary_with_failures PASSED [ 10%]
tests/unit/test_context_service.py::TestContextSummary::test_summary_with_continuity PASSED [ 10%]
tests/unit/test_context_service.py::TestContextSummary::test_summary_empty_context PASSED [ 10%]
tests/unit/test_knowledge_graph_service.py::TestConceptExtraction::test_extract_unigrams PASSED [ 11%]
tests/unit/test_knowledge_graph_service.py::TestConceptExtraction::test_extract_bigrams PASSED [ 11%]
tests/unit/test_knowledge_graph_service.py::TestConceptExtraction::test_extract_trigrams PASSED [ 12%]
tests/unit/test_knowledge_graph_service.py::TestConceptExtraction::test_filter_stop_words PASSED [ 12%]
tests/unit/test_knowledge_graph_service.py::TestConceptExtraction::test_filter_short_words PASSED [ 13%]
tests/unit/test_knowledge_graph_service.py::TestConceptExtraction::test_filter_tool_blocklist PASSED [ 13%]
tests/unit/test_knowledge_graph_service.py::TestConceptExtraction::test_empty_text PASSED [ 13%]
tests/unit/test_knowledge_graph_service.py::TestConceptExtraction::test_case_insensitive PASSED [ 14%]
tests/unit/test_knowledge_graph_service.py::TestKGLoading::test_load_empty_kg PASSED [ 14%]
tests/unit/test_knowledge_graph_service.py::TestKGLoading::test_load_existing_kg PASSED [ 15%]
tests/unit/test_knowledge_graph_service.py::TestKGLoading::test_load_partial_kg_fills_missing_keys PASSED [ 15%]
tests/unit/test_knowledge_graph_service.py::TestConceptRelationships::test_build_concept_relationships PASSED [ 16%]
tests/unit/test_knowledge_graph_service.py::TestConceptRelationships::test_relationship_co_occurrence_increments PASSED [ 16%]
tests/unit/test_knowledge_graph_service.py::TestKGRouting::test_update_kg_routing_creates_pattern PASSED [ 16%]
tests/unit/test_knowledge_graph_service.py::TestKGRouting::test_update_kg_routing_tracks_outcomes PASSED [ 17%]
tests/unit/test_knowledge_graph_service.py::TestKGRouting::test_update_kg_routing_updates_best_collection PASSED [ 17%]
tests/unit/test_knowledge_graph_service.py::TestRaceConditionFix::test_debounced_save_serializes_access PASSED [ 18%]
tests/unit/test_knowledge_graph_service.py::TestRaceConditionFix::test_debounced_save_batches_updates PASSED [ 18%]
tests/unit/test_knowledge_graph_service.py::TestRaceConditionFix::test_cleanup_cancels_pending_save PASSED [ 18%]
tests/unit/test_knowledge_graph_service.py::TestProblemSolutionTracking::test_track_problem_solution_creates_entry PASSED [ 19%]
tests/unit/test_knowledge_graph_service.py::TestProblemSolutionTracking::test_track_problem_solution_increments_on_repeat PASSED [ 19%]
tests/unit/test_knowledge_graph_service.py::TestProblemSolutionTracking::test_find_known_solutions_exact_match PASSED [ 20%]
tests/unit/test_knowledge_graph_service.py::TestKGCleanup::test_cleanup_dead_references PASSED [ 20%]
tests/unit/test_knowledge_graph_service.py::TestKGCleanup::test_cleanup_action_kg_for_doc_ids PASSED [ 21%]
tests/unit/test_knowledge_graph_service.py::TestKGEntitiesVisualization::test_get_kg_entities_routing PASSED [ 21%]
tests/unit/test_knowledge_graph_service.py::TestKGEntitiesVisualization::test_get_kg_entities_with_filter PASSED [ 21%]
tests/unit/test_knowledge_graph_service.py::TestKGEntitiesVisualization::test_get_kg_relationships PASSED [ 22%]
tests/unit/test_memory_bank_service.py::TestMemoryBankServiceInit::test_init_with_defaults PASSED [ 22%]
tests/unit/test_memory_bank_service.py::TestMemoryBankServiceInit::test_init_with_custom_config PASSED [ 23%]
tests/unit/test_memory_bank_service.py::TestStore::test_store_basic PASSED [ 23%]
tests/unit/test_memory_bank_service.py::TestStore::test_store_with_importance_confidence PASSED [ 24%]
tests/unit/test_memory_bank_service.py::TestStore::test_store_capacity_check PASSED [ 24%]
tests/unit/test_memory_bank_service.py::TestUpdate::test_update_archives_old PASSED [ 24%]
tests/unit/test_memory_bank_service.py::TestUpdate::test_update_preserves_metadata PASSED [ 25%]
tests/unit/test_memory_bank_service.py::TestUpdate::test_update_not_found_creates_new PASSED [ 25%]
tests/unit/test_memory_bank_service.py::TestArchive::test_archive_success PASSED [ 26%]
tests/unit/test_memory_bank_service.py::TestArchive::test_archive_not_found PASSED [ 26%]
tests/unit/test_memory_bank_service.py::TestSearch::test_search_excludes_archived_by_default PASSED [ 27%]
tests/unit/test_memory_bank_service.py::TestSearch::test_search_includes_archived_when_requested PASSED [ 27%]
tests/unit/test_memory_bank_service.py::TestSearch::test_search_filters_by_tags PASSED [ 27%]
tests/unit/test_memory_bank_service.py::TestRestore::test_restore_success PASSED [ 28%]
tests/unit/test_memory_bank_service.py::TestRestore::test_restore_not_found PASSED [ 28%]
tests/unit/test_memory_bank_service.py::TestDelete::test_delete_success PASSED [ 29%]
tests/unit/test_memory_bank_service.py::TestDelete::test_delete_failure PASSED [ 29%]
tests/unit/test_memory_bank_service.py::TestListAll::test_list_all_excludes_archived PASSED [ 29%]
tests/unit/test_memory_bank_service.py::TestListAll::test_list_all_includes_archived PASSED [ 30%]
tests/unit/test_memory_bank_service.py::TestListAll::test_list_all_filters_tags PASSED [ 30%]
tests/unit/test_memory_bank_service.py::TestStats::test_get_stats PASSED [ 31%]
tests/unit/test_memory_bank_service.py::TestIncrementMention::test_increment_mention PASSED [ 31%]
tests/unit/test_memory_bank_service.py::TestIncrementMention::test_increment_not_found PASSED [ 32%]
tests/unit/test_outcome_service.py::TestOutcomeServiceInit::test_init_with_defaults PASSED [ 32%]
tests/unit/test_outcome_service.py::TestOutcomeServiceInit::test_init_with_custom_config PASSED [ 32%]
tests/unit/test_outcome_service.py::TestOutcomeServiceInit::test_init_with_services PASSED [ 33%]
tests/unit/test_outcome_service.py::TestRecordOutcome::test_record_worked_outcome PASSED [ 33%]
tests/unit/test_outcome_service.py::TestRecordOutcome::test_record_failed_outcome PASSED [ 34%]
tests/unit/test_outcome_service.py::TestRecordOutcome::test_record_partial_outcome PASSED [ 34%]
tests/unit/test_outcome_service.py::TestRecordOutcome::test_safeguard_books PASSED [ 35%]
tests/unit/test_outcome_service.py::TestRecordOutcome::test_safeguard_memory_bank PASSED [ 35%]
tests/unit/test_outcome_service.py::TestRecordOutcome::test_not_found PASSED [ 35%]
tests/unit/test_outcome_service.py::TestRecordOutcome::test_outcome_history_tracking PASSED [ 36%]
tests/unit/test_outcome_service.py::TestRecordOutcome::test_failure_reason_tracking PASSED [ 36%]
tests/unit/test_outcome_service.py::TestRecordOutcome::test_success_context_tracking PASSED [ 37%]
tests/unit/test_outcome_service.py::TestTimeWeighting::test_recent_full_weight PASSED [ 37%]
tests/unit/test_outcome_service.py::TestTimeWeighting::test_old_reduced_weight PASSED [ 37%]
tests/unit/test_outcome_service.py::TestTimeWeighting::test_none_full_weight PASSED [ 38%]
tests/unit/test_outcome_service.py::TestTimeWeighting::test_invalid_full_weight PASSED [ 38%]
tests/unit/test_outcome_service.py::TestScoreCalculation::test_worked_increases_score PASSED [ 39%]
tests/unit/test_outcome_service.py::TestScoreCalculation::test_failed_decreases_score PASSED [ 39%]
tests/unit/test_outcome_service.py::TestScoreCalculation::test_partial_slightly_increases PASSED [ 40%]
tests/unit/test_outcome_service.py::TestScoreCalculation::test_score_capped_at_1 PASSED [ 40%]
tests/unit/test_outcome_service.py::TestScoreCalculation::test_score_capped_at_0 PASSED [ 40%]
tests/unit/test_outcome_service.py::TestScoreCalculation::test_time_weight_affects_delta PASSED [ 41%]
tests/unit/test_outcome_service.py::TestCountSuccesses::test_empty_returns_zero PASSED [ 41%]
tests/unit/test_outcome_service.py::TestCountSuccesses::test_worked_counts_as_one PASSED [ 42%]
tests/unit/test_outcome_service.py::TestCountSuccesses::test_partial_counts_as_half PASSED [ 42%]
tests/unit/test_outcome_service.py::TestCountSuccesses::test_failed_counts_as_zero PASSED [ 43%]
tests/unit/test_outcome_service.py::TestCountSuccesses::test_mixed_outcomes PASSED [ 43%]
tests/unit/test_outcome_service.py::TestCountSuccesses::test_invalid_json_returns_zero PASSED [ 43%]
tests/unit/test_outcome_service.py::TestOutcomeStats::test_get_outcome_stats PASSED [ 44%]
tests/unit/test_outcome_service.py::TestOutcomeStats::test_get_stats_not_found PASSED [ 44%]
tests/unit/test_outcome_service.py::TestKGIntegration::test_updates_kg_routing PASSED [ 45%]
tests/unit/test_outcome_service.py::TestKGIntegration::test_builds_relationships_on_success PASSED [ 45%]
tests/unit/test_outcome_service.py::TestKGIntegration::test_tracks_failure_patterns PASSED [ 45%]
tests/unit/test_outcome_service.py::TestKGIntegration::test_saves_kg_after_update PASSED [ 46%]
tests/unit/test_outcome_service.py::TestPromotionIntegration::test_calls_promotion_handler PASSED [ 46%]
tests/unit/test_outcome_service.py::TestPromotionIntegration::test_passes_correct_params_to_promotion PASSED [ 47%]
tests/unit/test_promotion_service.py::TestPromotionServiceInit::test_init_with_defaults PASSED [ 47%]
tests/unit/test_promotion_service.py::TestPromotionServiceInit::test_init_with_custom_config PASSED [ 48%]
tests/unit/test_promotion_service.py::TestWorkingToHistoryPromotion::test_promotes_working_to_history PASSED [ 48%]
tests/unit/test_promotion_service.py::TestWorkingToHistoryPromotion::test_no_promotion_low_score PASSED [ 48%]
tests/unit/test_promotion_service.py::TestWorkingToHistoryPromotion::test_no_promotion_low_uses PASSED [ 49%]
tests/unit/test_promotion_service.py::TestWorkingToHistoryPromotion::test_tracks_promotion_history PASSED [ 49%]
tests/unit/test_promotion_service.py::TestHistoryToPatternsPromotion::test_promotes_history_to_patterns PASSED [ 50%]
tests/unit/test_promotion_service.py::TestHistoryToPatternsPromotion::test_no_patterns_promotion_low_score PASSED [ 50%]
tests/unit/test_promotion_service.py::TestDemotion::test_demotes_patterns_to_history PASSED [ 51%]
tests/unit/test_promotion_service.py::TestDeletion::test_deletes_very_low_score PASSED [ 51%]
tests/unit/test_promotion_service.py::TestDeletion::test_lenient_deletion_for_new_items PASSED [ 51%]
tests/unit/test_promotion_service.py::TestDeletion::test_strict_deletion_for_old_items PASSED [ 52%]
tests/unit/test_promotion_service.py::TestBatchPromotion::test_batch_promotes_high_score_items PASSED [ 52%]
tests/unit/test_promotion_service.py::TestBatchPromotion::test_batch_cleans_old_items PASSED [ 53%]
tests/unit/test_promotion_service.py::TestPromoteItem::test_promote_item_creates_new_id PASSED [ 53%]
tests/unit/test_promotion_service.py::TestPromoteItem::test_promote_item_adds_metadata PASSED [ 54%]
tests/unit/test_promotion_service.py::TestAgeCalculation::test_calculates_age_hours PASSED [ 54%]
tests/unit/test_promotion_service.py::TestAgeCalculation::test_handles_empty_timestamp PASSED [ 54%]
tests/unit/test_promotion_service.py::TestAgeCalculation::test_handles_invalid_timestamp PASSED [ 55%]
tests/unit/test_routing_service.py::TestQueryPreprocessing::test_expand_single_acronym PASSED [ 55%]
tests/unit/test_routing_service.py::TestQueryPreprocessing::test_expand_multiple_acronyms PASSED [ 56%]
tests/unit/test_routing_service.py::TestQueryPreprocessing::test_no_expansion_for_unknown PASSED [ 56%]
tests/unit/test_routing_service.py::TestQueryPreprocessing::test_normalize_whitespace PASSED [ 56%]
tests/unit/test_routing_service.py::TestQueryPreprocessing::test_empty_query PASSED [ 57%]
tests/unit/test_routing_service.py::TestQueryPreprocessing::test_case_insensitive_expansion PASSED [ 57%]
tests/unit/test_routing_service.py::TestQueryPreprocessing::test_punctuation_handling PASSED [ 58%]
tests/unit/test_routing_service.py::TestTierScoreCalculation::test_tier_score_calculation PASSED [ 58%]
tests/unit/test_routing_service.py::TestTierScoreCalculation::test_tier_score_aggregation PASSED [ 59%]
tests/unit/test_routing_service.py::TestTierScoreCalculation::test_tier_score_empty_concepts PASSED [ 59%]
tests/unit/test_routing_service.py::TestTierScoreCalculation::test_tier_score_unknown_concept PASSED [ 59%]
tests/unit/test_routing_service.py::TestTierScoreCalculation::test_neutral_score_no_feedback PASSED [ 60%]
tests/unit/test_routing_service.py::TestQueryRouting::test_exploration_phase_no_patterns PASSED [ 60%]
tests/unit/test_routing_service.py::TestQueryRouting::test_exploration_phase_low_score PASSED [ 61%]
tests/unit/test_routing_service.py::TestQueryRouting::test_medium_confidence_phase PASSED [ 61%]
tests/unit/test_routing_service.py::TestQueryRouting::test_high_confidence_phase PASSED [ 62%]
tests/unit/test_routing_service.py::TestQueryRouting::test_no_concepts_searches_all PASSED [ 62%]
tests/unit/test_routing_service.py::TestQueryRouting::test_routing_tracks_usage PASSED [ 62%]
tests/unit/test_routing_service.py::TestTierRecommendations::test_recommendations_empty_concepts PASSED [ 63%]
tests/unit/test_routing_service.py::TestTierRecommendations::test_recommendations_with_matches PASSED [ 63%]
tests/unit/test_routing_service.py::TestTierRecommendations::test_recommendations_confidence_levels PASSED [ 64%]
tests/unit/test_routing_service.py::TestTierRecommendations::test_recommendations_returns_scores PASSED [ 64%]
tests/unit/test_scoring_service.py::TestWilsonScoreLower::test_zero_uses_returns_neutral PASSED [ 64%]
tests/unit/test_scoring_service.py::TestWilsonScoreLower::test_perfect_record_low_samples PASSED [ 65%]
tests/unit/test_scoring_service.py::TestWilsonScoreLower::test_score_range PASSED [ 65%]
tests/unit/test_scoring_service.py::TestWilsonScoreLower::test_monotonic_increase PASSED [ 66%]
tests/unit/test_scoring_service.py::TestWilsonScoreLower::test_sample_size_effect PASSED [ 66%]
tests/unit/test_scoring_service.py::TestWilsonScoreLower::test_matches_expected_values PASSED [ 67%]
tests/unit/test_scoring_service.py::TestScoringService::test_default_config PASSED [ 67%]
tests/unit/test_scoring_service.py::TestScoringService::test_custom_config PASSED [ 67%]
tests/unit/test_scoring_service.py::TestScoringService::test_count_successes_empty PASSED [ 68%]
tests/unit/test_scoring_service.py::TestScoringService::test_count_successes_worked PASSED [ 68%]
tests/unit/test_scoring_service.py::TestScoringService::test_count_successes_partial PASSED [ 69%]
tests/unit/test_scoring_service.py::TestScoringService::test_count_successes_mixed PASSED [ 69%]
tests/unit/test_scoring_service.py::TestScoringService::test_count_successes_invalid_json PASSED [ 70%]
tests/unit/test_scoring_service.py::TestScoringService::test_calculate_learned_score_no_uses PASSED [ 70%]
tests/unit/test_scoring_service.py::TestScoringService::test_calculate_learned_score_with_history PASSED [ 70%]
tests/unit/test_scoring_service.py::TestScoringService::test_dynamic_weights_proven PASSED [ 71%]
tests/unit/test_scoring_service.py::TestScoringService::test_dynamic_weights_established PASSED [ 71%]
tests/unit/test_scoring_service.py::TestScoringService::test_dynamic_weights_new PASSED [ 72%]
tests/unit/test_scoring_service.py::TestScoringService::test_dynamic_weights_failing PASSED [ 72%]
tests/unit/test_scoring_service.py::TestScoringService::test_dynamic_weights_memory_bank_high_quality PASSED [ 72%]
tests/unit/test_scoring_service.py::TestScoringService::test_dynamic_weights_memory_bank_normal PASSED [ 73%]
tests/unit/test_scoring_service.py::TestScoringService::test_calculate_final_score_basic PASSED [ 73%]
tests/unit/test_scoring_service.py::TestScoringService::test_calculate_final_score_distance_conversion PASSED [ 74%]
tests/unit/test_scoring_service.py::TestScoringService::test_apply_scoring_to_results PASSED [ 74%]
tests/unit/test_scoring_service.py::TestScoringConsistency::test_memory_bank_quality_scoring PASSED [ 75%]
tests/unit/test_search_service.py::TestSearchServiceInit::test_init_with_all_dependencies PASSED [ 75%]
tests/unit/test_search_service.py::TestSearchServiceInit::test_init_with_optional_reranker PASSED [ 75%]
tests/unit/test_search_service.py::TestMainSearch::test_search_routes_query PASSED [ 76%]
tests/unit/test_search_service.py::TestMainSearch::test_search_uses_explicit_collections PASSED [ 76%]
tests/unit/test_search_service.py::TestMainSearch::test_search_preprocesses_query PASSED [ 77%]
tests/unit/test_search_service.py::TestMainSearch::test_search_generates_embedding PASSED [ 77%]
tests/unit/test_search_service.py::TestMainSearch::test_search_applies_scoring PASSED [ 78%]
tests/unit/test_search_service.py::TestMainSearch::test_search_returns_list_by_default PASSED [ 78%]
tests/unit/test_search_service.py::TestMainSearch::test_search_returns_dict_with_metadata PASSED [ 78%]
tests/unit/test_search_service.py::TestMainSearch::test_search_respects_limit PASSED [ 79%]
tests/unit/test_search_service.py::TestMainSearch::test_search_handles_empty_query PASSED [ 79%]
tests/unit/test_search_service.py::TestEntityBoost::test_entity_boost_with_matches PASSED [ 80%]
tests/unit/test_search_service.py::TestEntityBoost::test_entity_boost_no_matches PASSED [ 80%]
tests/unit/test_search_service.py::TestEntityBoost::test_entity_boost_empty_query PASSED [ 81%]
tests/unit/test_search_service.py::TestDocEffectiveness::test_doc_effectiveness_calculates_rate PASSED [ 81%]
tests/unit/test_search_service.py::TestDocEffectiveness::test_doc_effectiveness_unknown_doc PASSED [ 81%]
tests/unit/test_search_service.py::TestDocEffectiveness::test_doc_effectiveness_partial_counts PASSED [ 82%]
tests/unit/test_search_service.py::TestCollectionBoosts::test_patterns_boost PASSED [ 82%]
tests/unit/test_search_service.py::TestCollectionBoosts::test_memory_bank_quality_boost PASSED [ 83%]
tests/unit/test_search_service.py::TestCollectionBoosts::test_books_recent_upload_boost PASSED [ 83%]
tests/unit/test_search_service.py::TestCaching::test_track_search_caches_doc_ids PASSED [ 83%]
tests/unit/test_search_service.py::TestCaching::test_caching_per_session PASSED [ 84%]
tests/unit/test_search_service.py::TestParseNumeric::test_parse_float PASSED [ 84%]
tests/unit/test_search_service.py::TestParseNumeric::test_parse_int PASSED [ 85%]
tests/unit/test_search_service.py::TestParseNumeric::test_parse_list PASSED [ 85%]
tests/unit/test_search_service.py::TestParseNumeric::test_parse_string_high PASSED [ 86%]
tests/unit/test_search_service.py::TestParseNumeric::test_parse_string_medium PASSED [ 86%]
tests/unit/test_search_service.py::TestParseNumeric::test_parse_string_low PASSED [ 86%]
tests/unit/test_search_service.py::TestParseNumeric::test_parse_none PASSED [ 87%]
tests/unit/test_search_service.py::TestParseNumeric::test_parse_invalid PASSED [ 87%]
tests/unit/test_unified_memory_system.py::TestUnifiedMemorySystemInit::test_init_creates_data_dir PASSED [ 88%]
tests/unit/test_unified_memory_system.py::TestUnifiedMemorySystemInit::test_init_with_custom_config PASSED [ 88%]
tests/unit/test_unified_memory_system.py::TestUnifiedMemorySystemInit::test_init_conversation_id PASSED [ 89%]
tests/unit/test_unified_memory_system.py::TestUnifiedMemorySystemInit::test_init_not_initialized PASSED [ 89%]
tests/unit/test_unified_memory_system.py::TestInitialize::test_initialize_creates_collections PASSED [ 89%]
tests/unit/test_unified_memory_system.py::TestInitialize::test_initialize_creates_services PASSED [ 90%]
tests/unit/test_unified_memory_system.py::TestInitialize::test_initialize_only_once PASSED [ 90%]
tests/unit/test_unified_memory_system.py::TestStore::test_store_generates_doc_id PASSED [ 91%]
tests/unit/test_unified_memory_system.py::TestStore::test_store_embeds_text PASSED [ 91%]
tests/unit/test_unified_memory_system.py::TestStore::test_store_with_metadata PASSED [ 91%]
tests/unit/test_unified_memory_system.py::TestSearch::test_search_delegates_to_service PASSED [ 92%]
tests/unit/test_unified_memory_system.py::TestSearch::test_search_passes_collections PASSED [ 92%]
tests/unit/test_unified_memory_system.py::TestRecordOutcome::test_record_outcome_delegates PASSED [ 93%]
tests/unit/test_unified_memory_system.py::TestRecordOutcome::test_record_outcome_with_reason PASSED [ 93%]
tests/unit/test_unified_memory_system.py::TestMemoryBankAPI::test_store_memory_bank PASSED [ 94%]
tests/unit/test_unified_memory_system.py::TestMemoryBankAPI::test_update_memory_bank PASSED [ 94%]
tests/unit/test_unified_memory_system.py::TestMemoryBankAPI::test_archive_memory_bank PASSED [ 94%]
tests/unit/test_unified_memory_system.py::TestMemoryBankAPI::test_search_memory_bank PASSED [ 95%]
tests/unit/test_unified_memory_system.py::TestContextAPI::test_analyze_context PASSED [ 95%]
tests/unit/test_unified_memory_system.py::TestPromotionAPI::test_promote_valuable PASSED [ 96%]
tests/unit/test_unified_memory_system.py::TestPromotionAPI::test_cleanup_old PASSED [ 96%]
tests/unit/test_unified_memory_system.py::TestSessionManagement::test_switch_conversation PASSED [ 97%]
tests/unit/test_unified_memory_system.py::TestSessionManagement::test_switch_conversation_promotes PASSED [ 97%]
tests/unit/test_unified_memory_system.py::TestSessionManagement::test_increment_message_count PASSED [ 97%]
tests/unit/test_unified_memory_system.py::TestKGVisualization::test_get_kg_entities PASSED [ 98%]
tests/unit/test_unified_memory_system.py::TestKGVisualization::test_get_kg_relationships PASSED [ 98%]
tests/unit/test_unified_memory_system.py::TestKGVisualization::test_knowledge_graph_property PASSED [ 99%]
tests/unit/test_unified_memory_system.py::TestCleanup::test_cleanup_saves_kg PASSED [ 99%]
tests/unit/test_unified_memory_system.py::TestCleanup::test_cleanup_closes_collections PASSED [100%]

============================= 237 passed in 5.02s =============================
